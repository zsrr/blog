---
title: 2019网易秋招内推面经（二面已跪）
date: 2018-08-28 17:54:57
tags: [面试]
categories: 面试
---

本篇来讲一下自己的一次失败的面试经历，总结之后重新再来。第一次正式的面试是网易的面试，先笔试，后面试，面试是直接去的杭州总部，此次去杭州损失惨重，耳机丢失, iPhoneX后壳还摔碎了，而且还没过（不知道为什么，感觉聊得挺好的），霉运真是有的时候就集中在那么几天。发表此文章给需要的同学看，攒人品。

<!--more-->

# 笔试

笔试的分为选择，4道编程题和2道简答题，选择和编程已经记不清了，都很简单的。编程真的没有考算法，全是暴力就可以做出来的题目，因此心态要放平，尤其我这种算法慌看什么笔试题都不自觉联想什么DP, 贪心那一套，没有必要，能暴力就暴力，不通过全部测试用例也可以拿分。

2道简答题，笔者投的是iOS工程师，因此问的问题都是和iOS相关的。

第一道问的是AutoReleasePool相关的问题。第一问是问在main.m文件里面@autoreleasepool {}这个东西的作用是什么，其实这段语法在iOS工程里是可以去掉的，因为runloop会自己创建AutoReleasePool，详情参见：[iOS autoreleasepool in main, and ARC alloc, release
](https://stackoverflow.com/questions/29350634/ios-autoreleasepool-in-main-and-arc-alloc-release)，但是答的时候可不要作死去答这段语法是没有帮助的，我当时答的是这段语法是创建一个AutoReleasePool，来使内部的对象能自动释放；第二问问的是AutoReleasePool的原理，它的内部是采用AutoReleasePoolPage（一个双向链表）来进行管理的，详情参见：[黑幕背后的Autorelease](https://blog.sunnyxx.com/2014/10/15/behind-autorelease/)，答的时候就答一些主要的点就好了。

第二道问的是和runtime有关的。第一问问的是在Objective-C里面重写一个方法的实现可以有哪几种方式，我答的是：继承，Category和method swizzling；第二问是问用runtime大致实现方法替换的过程，这个我不知道标准答案是什么，我就大致写了一下语法；第三问问的是假如一个类有三个实例A, B, C，怎么只重写A实例的方法，B、C不变，这个也很简单，我们在用runtime实行method swizzling的时候先保存一下原来方法的IMP，当运行到我们替换的函数的时候，判断当前实例是A, B还是C，如果是A, 那就执行下面的逻辑，如果是B或者C就执行原来的IMP就可以了。

总体来说笔试是很简单，而且诚意满满，但是接下来的面试就不同了……

# 现场面试

笔试之后的一个星期就接到了网易的面试通知，不知道为什么一定要去现场，之前美团的面试官还问我是去现场还是电话面试，现场面试真的是太烦了，昂贵的路费不说，关键是我这种身体奔波一趟是真的累。

## 一面

一面是比较基础的，面试官也很nice，问的问题主要是根据项目来问的，下面罗列出他问的问题：

- 做一个自我介绍。
- 看你做的工作有一个是相册导入，拿哪个库来实现的？
- SDWebImage源码看过没？大致的工作流程看过没？图片解码部分和缓存部分有仔细看过么？
- 多线程的几种方式。
- 多线程的锁有几种实现方式？
- 有碰到过多线程带来的问题么，怎么解决的？死锁怎么规避？
- GCD队列的类型，如果在一个serial队列用dispatch_sync会造成什么问题？
- 用过抓包工具么？
- 在开发过程中怎么mock数据？
- MVC和MVP的区别。
- Block带来的问题，和delegate相比有什么好处？
- 常见的造成循环引用的场景。
- NSTimer怎么规避循环引用的问题？
- NSNotificationCenter为什么要在最后remove掉注册的Observer？它的通知发送是同步还是异步的？注册通知的线程和发送通知的线程必须是一个线程么？

这些问题都是比较基础的，最多准备一天就ok了（SDWebImage还是昨晚在宾馆花俩小时看的）。需要注意的是基础的runtime，多线程一定要滚瓜烂熟，常见的设计模式要知道，内存泄漏的场景要知道，以及SDWebImage和AFNetwoking几乎是必考，源码一定要看。

## 二面

二面就让我挺摸不到头脑了，感觉答的挺好不过还是跪了，问的问题也比较奇怪。

- 在UITableView/UICollectionView中加载图片需要注意哪些问题？
- 在工作过程中是怎么对UITableView进行性能调优的？
- 对于KVO，重复add相同的Observer会怎么样？
- SDWebImage存到disk的文件名是根据什么来命名的？假如遇到CDN的问题该怎么办？
- 对于一个超出父View范围的子View，如何保证其响应事件？
- NSArray，NSMutableArray保存的是强引用，怎么设计一个保存弱引用的容器？
- TCP为什么要四次挥手而不是三次？
- 有没有设计过数据库？五大范式记得几个？索引设计的准则。

二面当中的TCP，数据库索引答的还是卡的，可能面试官想要一个基础知识牢固的学生吧，像我这种只知道做工程的还是回去学学理论再去面试吧。

再接再厉，好好加油！
